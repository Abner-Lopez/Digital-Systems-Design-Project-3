$date
	Mon Dec 08 20:43:48 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_top $end
$var wire 32 ! dbg_read_data [31:0] $end
$var wire 1 " dbg_hit $end
$var wire 16 # dbg_address [15:0] $end
$var reg 1 $ clk $end
$var reg 5 % idx_now [4:0] $end
$var reg 16 & last_addr [15:0] $end
$var reg 1 ' last_hit $end
$var reg 5 ( off_now [4:0] $end
$var reg 1 ) reset $end
$var reg 6 * tag_now [5:0] $end
$var integer 32 + cycle_count [31:0] $end
$var integer 32 , j [31:0] $end
$scope module DUT $end
$var wire 1 $ clk $end
$var wire 16 - dbg_address [15:0] $end
$var wire 1 " dbg_hit $end
$var wire 32 . dbg_read_data [31:0] $end
$var wire 1 ) reset $end
$var wire 1 / write_en $end
$var wire 32 0 write_data [31:0] $end
$var wire 1 1 read_en $end
$var wire 32 2 read_data [31:0] $end
$var wire 1 3 hit $end
$var wire 16 4 address [15:0] $end
$scope module CPU $end
$var wire 1 $ clk $end
$var wire 1 ) reset $end
$var reg 16 5 address [15:0] $end
$var reg 32 6 cycle [31:0] $end
$var reg 1 1 read_en $end
$var reg 32 7 write_data [31:0] $end
$var reg 1 / write_en $end
$upscope $end
$scope module MH $end
$var wire 16 8 address [15:0] $end
$var wire 1 $ clk $end
$var wire 1 1 read_en $end
$var wire 1 9 refill_done $end
$var wire 1 ) reset $end
$var wire 32 : write_data [31:0] $end
$var wire 1 / write_en $end
$var wire 256 ; wb_data [255:0] $end
$var wire 16 < wb_addr [15:0] $end
$var wire 32 = read_data [31:0] $end
$var wire 1 > need_wb $end
$var wire 1 ? miss $end
$var wire 32 @ mem_read_word_out [31:0] $end
$var wire 256 A mem_read_block_out [255:0] $end
$var wire 1 3 hit $end
$var reg 16 B mem_block_addr_rd [15:0] $end
$var reg 16 C mem_block_addr_wr [15:0] $end
$var reg 16 D mem_byte_addr_rd [15:0] $end
$var reg 16 E mem_byte_addr_word [15:0] $end
$var reg 1 F mem_read_block_en $end
$var reg 1 G mem_read_word_en $end
$var reg 256 H mem_write_block [255:0] $end
$var reg 1 I mem_write_en_block $end
$var reg 1 J mem_write_en_word $end
$var reg 32 K mem_write_word [31:0] $end
$var reg 1 L miss_reg $end
$var reg 2 M next_state [1:0] $end
$var reg 2 N state [1:0] $end
$scope module CACHE $end
$var wire 16 O address [15:0] $end
$var wire 1 $ clk $end
$var wire 1 3 hit $end
$var wire 1 ? miss $end
$var wire 1 > need_writeback $end
$var wire 1 1 read_en $end
$var wire 1 9 refill_done $end
$var wire 1 ) rst $end
$var wire 256 P wb_block_data [255:0] $end
$var wire 32 Q write_data [31:0] $end
$var wire 1 / write_en $end
$var wire 3 R word_index [2:0] $end
$var wire 16 S wb_address [15:0] $end
$var wire 6 T tag [5:0] $end
$var wire 256 U refill_block [255:0] $end
$var wire 5 V index [4:0] $end
$var parameter 32 W BLOCK_SIZE $end
$var parameter 32 X NUM_LINES $end
$var reg 32 Y read_data [31:0] $end
$scope begin $unm_blk_25 $end
$var integer 32 Z ii [31:0] $end
$upscope $end
$upscope $end
$scope module MEM $end
$var wire 16 [ block_addr_rd [15:0] $end
$var wire 16 \ block_addr_wr [15:0] $end
$var wire 16 ] byte_addr [15:0] $end
$var wire 16 ^ byte_addr_rd [15:0] $end
$var wire 1 $ clk $end
$var wire 1 F read_block_en $end
$var wire 256 _ read_block_out [255:0] $end
$var wire 1 G read_word_en $end
$var wire 32 ` read_word_out [31:0] $end
$var wire 1 ) reset $end
$var wire 256 a write_block [255:0] $end
$var wire 1 I write_en_block $end
$var wire 1 J write_en_word $end
$var wire 32 b write_word [31:0] $end
$var wire 3 c word_idx_wr [2:0] $end
$var wire 3 d word_idx_rd [2:0] $end
$var wire 11 e block_idx_wr [10:0] $end
$var wire 11 f block_idx_word_wr [10:0] $end
$var wire 11 g block_idx_word_rd [10:0] $end
$var wire 11 h block_idx_rd [10:0] $end
$var reg 256 i read_block_reg [255:0] $end
$var reg 32 j read_word_reg [31:0] $end
$scope begin $unm_blk_38 $end
$var reg 256 k built_block [255:0] $end
$var integer 32 l blk [31:0] $end
$var integer 32 m w [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$upscope $end
$scope task print_cache_inspector $end
$upscope $end
$scope task print_mapping_table $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100000 X
b100000 W
$end
#0
$dumpvars
b1000 m
b100000000000 l
b10000000000000000000000000011100100000000000000000000000000110001000000000000000000000000001010010000000000000000000000000010000100000000000000000000000000011001000000000000000000000000000100010000000000000000000000000000100100000000000000000000000000000 k
bx j
bx i
b0 h
b0 g
b0 f
b0 e
b0 d
b0 c
b0 b
b0 a
bx `
bx _
b0 ^
b0 ]
b0 \
b0 [
b100000 Z
b0 Y
b0 V
bx U
b0 T
b0 S
b0 R
b0 Q
b0 P
b0 O
b0 N
b0 M
0L
b0 K
0J
0I
b0 H
0G
0F
b0 E
b0 D
b0 C
b0 B
bx A
bx @
0?
0>
b0 =
b0 <
b0 ;
b0 :
09
b0 8
b0 7
b0 6
b0 5
b0 4
03
b0 2
01
b0 0
0/
b0 .
b0 -
bx ,
b0 +
bx *
1)
bx (
x'
bx &
bx %
0$
b0 #
0"
b0 !
$end
#5000
b0 @
b0 `
b0 j
b0 A
b0 U
b0 _
b0 i
b1111111111111111 &
b100000 Z
1$
#10000
0$
#15000
b100000 Z
1$
#20000
0$
#25000
b1 6
b1 +
0'
b0 &
b0 (
b0 %
b0 *
0)
1$
#30000
0$
#35000
b10 6
b10 +
1$
#40000
0$
#45000
1?
b1 R
b100 #
b100 -
b100 4
b100 5
b100 8
b100 O
11
b11 6
b11 +
1$
#50000
0$
#55000
0?
b10 M
b100 6
01
1L
b100 +
b100 &
b100 (
1$
#60000
0$
#65000
1?
b11 M
b10 R
0L
b10 N
b1000 #
b1000 -
b1000 4
b1000 5
b1000 8
b1000 O
11
b101 6
b101 +
1$
#70000
0$
#75000
0?
19
b0 M
b110 6
01
b11 N
1F
b110 +
b1000 &
b1000 (
1$
#80000
0$
#85000
1"
13
09
b1 R
0F
b0 N
b11011110101011011011111011101111 0
b11011110101011011011111011101111 7
b11011110101011011011111011101111 :
b11011110101011011011111011101111 Q
b100 #
b100 -
b100 4
b100 5
b100 8
b100 O
1/
b111 6
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 A
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 U
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 _
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 i
b111 +
1$
#90000
0$
#95000
b11011110101011011011111011101111 !
b11011110101011011011111011101111 .
b11011110101011011011111011101111 2
b11011110101011011011111011101111 =
b11011110101011011011111011101111 Y
b1101111010101101101111101110111100000000000000000000000000000000 ;
b1101111010101101101111101110111100000000000000000000000000000000 P
b1000 6
0/
b1000 +
1'
b100 &
b100 (
1$
#100000
0$
#105000
11
b1001 6
b1001 +
1$
#110000
0$
#115000
b1010 6
01
b1010 +
1$
#120000
0$
#125000
1>
1?
0"
03
b100000 T
b1000000000000100 #
b1000000000000100 -
b1000000000000100 4
b1000000000000100 5
b1000000000000100 8
b1000000000000100 O
11
b1011 6
b1011 +
1$
#130000
0$
#135000
0>
0?
b10 M
b1100 6
01
1L
b1100 +
0'
b1000000000000100 &
b100000 *
1$
#140000
0$
#145000
b11 M
0L
b10 N
b1101 6
b1101 +
1$
#150000
0$
#155000
19
b0 M
b10000000000 h
b1110 6
b11 N
1F
b1000000000000000 B
b1000000000000000 [
b1110 +
1$
#160000
0$
#165000
1"
13
b10000000000000000000000000001 !
b10000000000000000000000000001 .
b10000000000000000000000000001 2
b10000000000000000000000000001 =
b10000000000000000000000000001 Y
09
b1000000000000000 <
b1000000000000000 S
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 ;
b1000000000000000000000000011100010000000000000000000000000110000100000000000000000000000001010001000000000000000000000000010000010000000000000000000000000011000100000000000000000000000000100001000000000000000000000000000100010000000000000000000000000000 P
0F
b0 N
b1111 6
b1111 +
b10000000000000000000000000011100100000000000000000000000000110001000000000000000000000000001010010000000000000000000000000010000100000000000000000000000000011001000000000000000000000000000100010000000000000000000000000000100100000000000000000000000000000 A
b10000000000000000000000000011100100000000000000000000000000110001000000000000000000000000001010010000000000000000000000000010000100000000000000000000000000011001000000000000000000000000000100010000000000000000000000000000100100000000000000000000000000000 U
b10000000000000000000000000011100100000000000000000000000000110001000000000000000000000000001010010000000000000000000000000010000100000000000000000000000000011001000000000000000000000000000100010000000000000000000000000000100100000000000000000000000000000 _
b10000000000000000000000000011100100000000000000000000000000110001000000000000000000000000001010010000000000000000000000000010000100000000000000000000000000011001000000000000000000000000000100010000000000000000000000000000100100000000000000000000000000000 i
1$
#170000
0$
#175000
b10000 6
b10000 +
1'
1$
#180000
0$
#185000
b10001 6
b10001 +
1$
#190000
0$
#195000
b10010 6
b10010 +
1$
#200000
0$
#205000
b10011 6
b10011 +
1$
#210000
0$
#215000
b10100 6
b10100 +
1$
#220000
0$
#225000
b10101 6
b10101 +
1$
#230000
0$
#235000
b10110 6
b10110 +
1$
#240000
0$
#245000
b10111 6
b10111 +
1$
#250000
0$
#255000
b11000 6
b11000 +
1$
#260000
0$
#265000
b11001 6
b11001 +
1$
#270000
0$
#275000
b11010 6
b11010 +
1$
#280000
0$
#285000
b11011 6
b11011 +
1$
#290000
0$
#295000
b11100 6
b11100 +
1$
#300000
0$
#305000
b11101 6
b11101 +
1$
#310000
0$
#315000
b11110 6
b11110 +
1$
#320000
0$
#325000
b11111 6
b11111 +
1$
#330000
0$
#335000
b100000 6
b100000 +
1$
#340000
0$
#345000
b100001 6
b100001 +
1$
#350000
0$
#355000
b100010 6
b100010 +
1$
#360000
0$
#365000
b100011 6
b100011 +
1$
#370000
0$
#375000
b100100 6
b100100 +
1$
#380000
0$
#385000
b100101 6
b100101 +
1$
#390000
0$
#395000
b100110 6
b100110 +
1$
#400000
0$
#405000
b100111 6
b100111 +
1$
#410000
0$
#415000
b101000 6
b101000 +
1$
#420000
0$
#425000
b101001 6
b101001 +
1$
#430000
0$
#435000
b101010 6
b101010 +
1$
#440000
0$
#445000
b101011 6
b101011 +
1$
#450000
0$
#455000
b101100 6
b101100 +
1$
#460000
0$
#465000
b101101 6
b101101 +
1$
#470000
0$
#475000
b101110 6
b101110 +
1$
#480000
0$
#485000
b101111 6
b101111 +
1$
#490000
0$
#495000
b110000 6
b110000 +
1$
#500000
0$
#505000
b110001 6
b110001 +
1$
#510000
0$
#515000
b110010 6
b110010 +
1$
#520000
0$
#525000
b110011 6
b110011 +
1$
#530000
0$
#535000
b110100 6
b110100 +
1$
#540000
0$
#545000
b110101 6
b110101 +
1$
#550000
0$
#555000
b110110 6
b110110 +
1$
#560000
0$
#565000
b110111 6
b110111 +
1$
#570000
0$
#575000
b111000 6
b111000 +
1$
#580000
0$
#585000
b111001 6
b111001 +
1$
#590000
0$
#595000
b111010 6
b111010 +
1$
#600000
0$
#605000
b111011 6
b111011 +
1$
#610000
0$
#615000
b111100 6
b111100 +
1$
#620000
0$
#625000
b111101 6
b111101 +
1$
#630000
0$
#635000
b111110 6
b111110 +
1$
#640000
0$
#645000
b111111 6
b111111 +
1$
#650000
0$
#655000
b1000000 6
b1000000 +
1$
#660000
0$
#665000
b1000001 6
b1000001 +
1$
#670000
0$
#675000
b1000010 6
b1000010 +
1$
#680000
0$
#685000
b1000011 6
b1000011 +
1$
#690000
0$
#695000
b1000100 6
b1000100 +
1$
#700000
0$
#705000
b1000101 6
b1000101 +
1$
#710000
0$
#715000
b1000110 6
b1000110 +
1$
#720000
0$
#725000
b1000111 6
b1000111 +
1$
#730000
0$
#735000
b1001000 6
b1001000 +
1$
#740000
0$
#745000
b1001001 6
b1001001 +
1$
#750000
0$
#755000
b1001010 6
b1001010 +
1$
#760000
0$
#765000
b1001011 6
b1001011 +
1$
#770000
0$
#775000
b1001100 6
b1001100 +
1$
#780000
0$
#785000
b1001101 6
b1001101 +
1$
#790000
0$
#795000
b1001110 6
b1001110 +
1$
#800000
0$
#805000
b1001111 6
b1001111 +
1$
#810000
0$
#815000
b1010000 6
b1010000 +
1$
#820000
0$
#825000
b1010001 6
b1010001 +
1$
#830000
0$
#835000
b1010010 6
b1010010 +
1$
#840000
0$
#845000
b1010011 6
b1010011 +
1$
#850000
0$
#855000
b1010100 6
b1010100 +
1$
#860000
0$
#865000
b1010101 6
b1010101 +
1$
#870000
0$
#875000
b1010110 6
b1010110 +
1$
#880000
0$
#885000
b1010111 6
b1010111 +
1$
#890000
0$
#895000
b1011000 6
b1011000 +
1$
#900000
0$
#905000
b1011001 6
b1011001 +
1$
#910000
0$
#915000
b1011010 6
b1011010 +
1$
#920000
0$
#925000
b1011011 6
b1011011 +
1$
#930000
0$
#935000
b1011100 6
b1011100 +
1$
#940000
0$
#945000
b1011101 6
b1011101 +
1$
#950000
0$
#955000
b1011110 6
b1011110 +
1$
#960000
0$
#965000
b1011111 6
b1011111 +
1$
#970000
0$
#975000
b1100000 6
b1100000 +
1$
#980000
0$
#985000
b1100001 6
b1100001 +
1$
#990000
0$
#995000
b1100010 6
b1100010 +
1$
#1000000
0$
#1005000
b1100011 6
b1100011 +
1$
#1010000
0$
#1015000
b1100100 6
b1100100 +
1$
#1020000
0$
#1025000
b1100101 6
b1100101 +
1$
#1030000
0$
#1035000
b1100110 6
b1100110 +
1$
#1040000
0$
#1045000
b1100111 6
b1100111 +
1$
#1050000
0$
#1055000
b1101000 6
b1101000 +
1$
#1060000
0$
#1065000
b1101001 6
b1101001 +
1$
#1070000
0$
#1075000
b1101010 6
b1101010 +
1$
#1080000
0$
#1085000
b1101011 6
b1101011 +
1$
#1090000
0$
#1095000
b1101100 6
b1101100 +
1$
#1100000
0$
#1105000
b1101101 6
b1101101 +
1$
#1110000
0$
#1115000
b1101110 6
b1101110 +
1$
#1120000
0$
#1125000
b1101111 6
b1101111 +
1$
#1130000
0$
#1135000
b1110000 6
b1110000 +
1$
#1140000
0$
#1145000
b1110001 6
b1110001 +
1$
#1150000
0$
#1155000
b1110010 6
b1110010 +
1$
#1160000
0$
#1165000
b1110011 6
b1110011 +
1$
#1170000
0$
#1175000
b1110100 6
b1110100 +
1$
#1180000
0$
#1185000
b1110101 6
b1110101 +
1$
#1190000
0$
#1195000
b1110110 6
b1110110 +
1$
#1200000
0$
#1205000
b1110111 6
b1110111 +
1$
#1210000
0$
#1215000
b1111000 6
b1111000 +
1$
#1220000
0$
#1225000
b1111001 6
b1111001 +
1$
#1230000
0$
#1235000
b1111010 6
b1111010 +
1$
#1240000
0$
#1245000
b1111011 6
b1111011 +
1$
#1250000
0$
#1255000
b1111100 6
b1111100 +
1$
#1260000
0$
#1265000
b1111101 6
b1111101 +
1$
#1270000
0$
#1275000
b1111110 6
b1111110 +
1$
#1280000
0$
#1285000
b1111111 6
b1111111 +
1$
#1290000
0$
#1295000
b10000000 6
b10000000 +
1$
#1300000
0$
#1305000
b10000001 6
b10000001 +
1$
#1310000
0$
#1315000
b10000010 6
b10000010 +
1$
#1320000
0$
#1325000
b10000011 6
b10000011 +
1$
#1330000
0$
#1335000
b10000100 6
b10000100 +
1$
#1340000
0$
#1345000
b10000101 6
b10000101 +
1$
#1350000
0$
#1355000
b10000110 6
b10000110 +
1$
#1360000
0$
#1365000
b10000111 6
b10000111 +
1$
#1370000
0$
#1375000
b10001000 6
b10001000 +
1$
#1380000
0$
#1385000
b10001001 6
b10001001 +
1$
#1390000
0$
#1395000
b10001010 6
b10001010 +
1$
#1400000
0$
#1405000
b10001011 6
b10001011 +
1$
#1410000
0$
#1415000
b10001100 6
b10001100 +
1$
#1420000
0$
#1425000
b10001101 6
b10001101 +
1$
#1430000
0$
#1435000
b10001110 6
b10001110 +
1$
#1440000
0$
#1445000
b10001111 6
b10001111 +
1$
#1450000
0$
#1455000
b10010000 6
b10010000 +
1$
#1460000
0$
#1465000
b10010001 6
b10010001 +
1$
#1470000
0$
#1475000
b10010010 6
b10010010 +
1$
#1480000
0$
#1485000
b10010011 6
b10010011 +
1$
#1490000
0$
#1495000
b10010100 6
b10010100 +
1$
#1500000
0$
#1505000
b10010101 6
b10010101 +
1$
#1510000
0$
#1515000
b10010110 6
b10010110 +
1$
#1520000
0$
#1525000
b10010111 6
b10010111 +
1$
#1530000
0$
#1535000
b10011000 6
b10011000 +
1$
#1540000
0$
#1545000
b10011001 6
b10011001 +
1$
#1550000
0$
#1555000
b10011010 6
b10011010 +
1$
#1560000
0$
#1565000
b10011011 6
b10011011 +
1$
#1570000
0$
#1575000
b10011100 6
b10011100 +
1$
#1580000
0$
#1585000
b10011101 6
b10011101 +
1$
#1590000
0$
#1595000
b10011110 6
b10011110 +
1$
#1600000
0$
#1605000
b10011111 6
b10011111 +
1$
#1610000
0$
#1615000
b10100000 6
b10100000 +
1$
#1620000
0$
#1625000
b10100001 6
b10100001 +
1$
#1630000
0$
#1635000
b10100010 6
b10100010 +
1$
